1. 현상 (Symptom)

동일한 서비스에서 발생하는 반복적인 에러 로그가 각각 독립적인 행으로 저장되어 데이터베이스 부하 및 로그 가독성 저하 발생.

2. 원인 분석 및 진단 (Diagnosis)

로그의 유일성을 식별할 기준이 없어 단순 Insert 작업만 반복됨.

대규모 분산 환경에서 로그 적재 효율을 높이기 위해 메시지 본문을 식별자로 변환하는 과정이 필요함.

3. 해결 조치 (Action Taken)

SHA-256 해싱 도입: serviceName과 message를 조합하여 고유 해시값을 생성하는 LogProcessor 구현.

Upsert 로직 적용: DB 조회 시 해시 존재 여부를 판단하여, 존재할 경우 repeatCount 증가 및 lastOccurrenceTime만 갱신하도록 처리.

4. 결과 (Result)

중복 로그에 대한 DB I/O 비용을 크게 절감하고, 에러 발생 빈도를 한눈에 파악할 수 있는 통계적 기초 마련.
